"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8241],{8241:(m,h,o)=>{o.r(h),o.d(h,{SpeechRecognitionPageModule:()=>s});var u=o(9181),l=o(8996),i=o(4650),c=o(603);class a{constructor(e){this.cdr=e,this.isSpeechRecognitionSupported="webkitSpeechRecognition"in window,this.isRecognizing=!1,this.ignoreOnEnd=!1,this.startTimestamp=0,this.finalTranscript="",this.interimTranscript=""}ngOnInit(){this.recognition=new webkitSpeechRecognition,this.recognition.continuous=!0,this.recognition.interimResults=!0,this.recognition.onstart=()=>{this.isRecognizing=!0,this.cdr.detectChanges()},this.recognition.onerror=e=>{console.log("onerror",e),alert("error: "+e.error),"no-speech"==e.error&&(console.error("No speech was detected. You may need to adjust your microphone settings."),this.ignoreOnEnd=!0),"audio-capture"==e.error&&(console.error("No microphone was found. Ensure that a microphone is installed and microphone settings are configured correctly."),this.ignoreOnEnd=!0),"not-allowed"==e.error&&(e.timeStamp-this.startTimestamp<100?console.error("Permission to use microphone is blocked."):console.error("Permission to use microphone was denied."),this.ignoreOnEnd=!0),this.cdr.detectChanges()},this.recognition.onend=()=>{this.isRecognizing=!1},this.recognition.onresult=e=>{if(console.log("onresult",e),this.interimTranscript="",typeof e.results>"u")return this.recognition.onend=null,this.recognition.stop(),void console.error("Web Speech API is not supported by this browser.");for(let t=e.resultIndex;t<e.results.length;++t)e.results[t].isFinal?this.finalTranscript+=e.results[t][0].transcript:this.interimTranscript+=e.results[t][0].transcript;(this.finalTranscript||this.interimTranscript)&&(console.log("finalTranscript:",this.finalTranscript),console.log("interimTranscript:",this.interimTranscript)),this.cdr.detectChanges()}}startButton(e){this.isRecognizing?this.recognition.stop():(this.finalTranscript="",this.recognition.lang="en-US",this.recognition.start(),this.ignoreOnEnd=!1,this.startTimestamp=e.timeStamp)}}a.\u0275fac=function(e){return new(e||a)(i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-speech-recognition"]],decls:13,vars:3,consts:[[3,"click"],[1,"text-gray-400"]],template:function(e,t){1&e&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),i._uU(3,"speech-recognition"),i.qZA()()(),i.TgZ(4,"ion-content")(5,"div"),i._uU(6),i.qZA(),i.TgZ(7,"ion-button",0),i.NdJ("click",function(d){return t.startButton(d)}),i._uU(8,"Slm"),i.qZA(),i.TgZ(9,"div"),i._uU(10),i.TgZ(11,"span",1),i._uU(12),i.qZA()()()),2&e&&(i.xp6(6),i.hij("Supported: ",t.isSpeechRecognitionSupported,""),i.xp6(4),i.hij(" ",t.finalTranscript," "),i.xp6(2),i.Oqu(t.interimTranscript))},dependencies:[c.YG,c.W2,c.Gu,c.wd,c.sr]});const g=[{path:"",component:a}];class r{}r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[l.Bz.forChild(g),l.Bz]});class p{}p.\u0275fac=function(e){return new(e||p)},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-speech-button"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"div")},encapsulation:2});class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=i.oAB({type:s}),s.\u0275inj=i.cJS({imports:[u.m,r]})}}]);